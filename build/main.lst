
build/main.o:     file format elf32-littleriscv


Disassembly of section .text.main:

00000000 <main>:
#include "uart0.h"

void gpioInit();
void delay(volatile uint32_t val);
Uart0 uart;
int main() {
   0:	1101                	addi	sp,sp,-32
   2:	ce06                	sw	ra,28(sp)
   4:	cc22                	sw	s0,24(sp)
   6:	1000                	addi	s0,sp,32
    int i = -7;
   8:	57e5                	li	a5,-7
   a:	fef42423          	sw	a5,-24(s0)
    
    gpioInit();   
   e:	00000097          	auipc	ra,0x0
			e: R_RISCV_CALL	_Z8gpioInitv
			e: R_RISCV_RELAX	*ABS*
  12:	000080e7          	jalr	ra # e <main+0xe>
    GPIOC->BSRR |= (1<<29);
  16:	400117b7          	lui	a5,0x40011
  1a:	4b94                	lw	a3,16(a5)
  1c:	400117b7          	lui	a5,0x40011
  20:	20000737          	lui	a4,0x20000
  24:	8f55                	or	a4,a4,a3
  26:	cb98                	sw	a4,16(a5)
    GPIOC->BSRR |= (1<<13);
  28:	400117b7          	lui	a5,0x40011
  2c:	4b94                	lw	a3,16(a5)
  2e:	400117b7          	lui	a5,0x40011
  32:	6709                	lui	a4,0x2
  34:	8f55                	or	a4,a4,a3
  36:	cb98                	sw	a4,16(a5)
    GPIOC->BSRR |= (1<<29);
  38:	400117b7          	lui	a5,0x40011
  3c:	4b94                	lw	a3,16(a5)
  3e:	400117b7          	lui	a5,0x40011
  42:	20000737          	lui	a4,0x20000
  46:	8f55                	or	a4,a4,a3
  48:	cb98                	sw	a4,16(a5)
    uint8_t count = 0x30;
  4a:	03000793          	li	a5,48
  4e:	fef407a3          	sb	a5,-17(s0)

00000052 <.L3>:
    while (1) {
        //uart.sendByte(count++);        
        if(count == 0x50) {
  52:	fef44703          	lbu	a4,-17(s0)
  56:	05000793          	li	a5,80
  5a:	00f71463          	bne	a4,a5,62 <.L2>
			5a: R_RISCV_BRANCH	.L2
            count = 0;
  5e:	fe0407a3          	sb	zero,-17(s0)

00000062 <.L2>:
        //GPIOC->BSRR |= (1<<29);
        //delay(500000);
        //GPIOC->BSRR |= (1<<13);
        //delay(1000000);
         //GPIOC->ODR |= (1<<13);
         delay(50000);
  62:	67b1                	lui	a5,0xc
  64:	35078513          	addi	a0,a5,848 # c350 <.LASF46+0xbf75>
  68:	00000097          	auipc	ra,0x0
			68: R_RISCV_CALL	_Z5delaym
			68: R_RISCV_RELAX	*ABS*
  6c:	000080e7          	jalr	ra # 68 <.L2+0x6>
         //GPIOC->ODR &=~ (1<<13);
         delay(50000);
  70:	67b1                	lui	a5,0xc
  72:	35078513          	addi	a0,a5,848 # c350 <.LASF46+0xbf75>
  76:	00000097          	auipc	ra,0x0
			76: R_RISCV_CALL	_Z5delaym
			76: R_RISCV_RELAX	*ABS*
  7a:	000080e7          	jalr	ra # 76 <.L2+0x14>
        if(count == 0x50) {
  7e:	bfd1                	j	52 <.L3>
			7e: R_RISCV_RVC_JUMP	.L3

Disassembly of section .text._Z8gpioInitv:

00000000 <_Z8gpioInitv>:
    }
    return 0;
}

void gpioInit() {
   0:	1141                	addi	sp,sp,-16
   2:	c622                	sw	s0,12(sp)
   4:	0800                	addi	s0,sp,16
    RCC->APB2ENR |= RCC_APB2ENR_IOPCEN;
   6:	400217b7          	lui	a5,0x40021
   a:	4f98                	lw	a4,24(a5)
   c:	400217b7          	lui	a5,0x40021
  10:	01076713          	ori	a4,a4,16
  14:	cf98                	sw	a4,24(a5)
    GPIOC->CRH &=~ GPIO_CRH_CNF13;
  16:	400117b7          	lui	a5,0x40011
  1a:	43d4                	lw	a3,4(a5)
  1c:	400117b7          	lui	a5,0x40011
  20:	ff400737          	lui	a4,0xff400
  24:	177d                	addi	a4,a4,-1
  26:	8f75                	and	a4,a4,a3
  28:	c3d8                	sw	a4,4(a5)
    GPIOC->CRH |= GPIO_CRH_MODE13; //00:11 GPIO output max speed
  2a:	400117b7          	lui	a5,0x40011
  2e:	43d4                	lw	a3,4(a5)
  30:	400117b7          	lui	a5,0x40011
  34:	00300737          	lui	a4,0x300
  38:	8f55                	or	a4,a4,a3
  3a:	c3d8                	sw	a4,4(a5)
}
  3c:	0001                	nop
  3e:	4432                	lw	s0,12(sp)
  40:	0141                	addi	sp,sp,16
  42:	8082                	ret

Disassembly of section .text._Z5delaym:

00000000 <_Z5delaym>:

void delay(volatile uint32_t val) {
   0:	1101                	addi	sp,sp,-32
   2:	ce22                	sw	s0,28(sp)
   4:	1000                	addi	s0,sp,32
   6:	fea42623          	sw	a0,-20(s0)

0000000a <.L7>:
    while(val!=0) {
   a:	fec42783          	lw	a5,-20(s0)
   e:	00f037b3          	snez	a5,a5
  12:	0ff7f793          	andi	a5,a5,255
  16:	c799                	beqz	a5,24 <.L8>
			16: R_RISCV_RVC_BRANCH	.L8
        val--;
  18:	fec42783          	lw	a5,-20(s0)
  1c:	17fd                	addi	a5,a5,-1
  1e:	fef42623          	sw	a5,-20(s0)
    while(val!=0) {
  22:	b7e5                	j	a <.L7>
			22: R_RISCV_RVC_JUMP	.L7

00000024 <.L8>:
    }
}
  24:	0001                	nop
  26:	4472                	lw	s0,28(sp)
  28:	6105                	addi	sp,sp,32
  2a:	8082                	ret

Disassembly of section .text.USART0_IRQn_handler:

00000000 <USART0_IRQn_handler>:

extern "C" void USART0_IRQn_handler() {
   0:	1101                	addi	sp,sp,-32
   2:	ce22                	sw	s0,28(sp)
   4:	1000                	addi	s0,sp,32
    // GPIOC->ODR |= (1 << 13);
    // delay(100000);
    // GPIOC->ODR &= ~(1 << 13);
    // delay(100000);
    //USART0->STAT &=~ USART_STAT_RBNE;
    GPIOC->ODR ^= (1<<13);
   6:	400117b7          	lui	a5,0x40011
   a:	47d4                	lw	a3,12(a5)
   c:	400117b7          	lui	a5,0x40011
  10:	6709                	lui	a4,0x2
  12:	8f35                	xor	a4,a4,a3
  14:	c7d8                	sw	a4,12(a5)
    uint8_t byte = USART0->DATA;
  16:	400147b7          	lui	a5,0x40014
  1a:	80078793          	addi	a5,a5,-2048 # 40013800 <.LASF46+0x40013425>
  1e:	43dc                	lw	a5,4(a5)
  20:	fef407a3          	sb	a5,-17(s0)
    //  Uart0::pThis->sendByte('O');
    //  Uart0::pThis->sendByte('P');
    //  Uart0::pThis->sendByte('A');
  24:	0001                	nop
  26:	4472                	lw	s0,28(sp)
  28:	6105                	addi	sp,sp,32
  2a:	8082                	ret

Disassembly of section .text._Z41__static_initialization_and_destruction_0ii:

00000000 <_Z41__static_initialization_and_destruction_0ii>:
   0:	1101                	addi	sp,sp,-32
   2:	ce06                	sw	ra,28(sp)
   4:	cc22                	sw	s0,24(sp)
   6:	1000                	addi	s0,sp,32
   8:	fea42623          	sw	a0,-20(s0)
   c:	feb42423          	sw	a1,-24(s0)
  10:	fec42703          	lw	a4,-20(s0)
  14:	4785                	li	a5,1
  16:	02f71063          	bne	a4,a5,36 <.L12>
			16: R_RISCV_BRANCH	.L12
  1a:	fe842703          	lw	a4,-24(s0)
  1e:	67c1                	lui	a5,0x10
  20:	17fd                	addi	a5,a5,-1
  22:	00f71a63          	bne	a4,a5,36 <.L12>
			22: R_RISCV_BRANCH	.L12
Uart0 uart;
  26:	000007b7          	lui	a5,0x0
			26: R_RISCV_HI20	uart
			26: R_RISCV_RELAX	*ABS*
  2a:	00078513          	mv	a0,a5
			2a: R_RISCV_LO12_I	uart
			2a: R_RISCV_RELAX	*ABS*
  2e:	00000097          	auipc	ra,0x0
			2e: R_RISCV_CALL	_ZN5Uart0C1Ev
			2e: R_RISCV_RELAX	*ABS*
  32:	000080e7          	jalr	ra # 2e <_Z41__static_initialization_and_destruction_0ii+0x2e>

00000036 <.L12>:
  36:	0001                	nop
  38:	40f2                	lw	ra,28(sp)
  3a:	4462                	lw	s0,24(sp)
  3c:	6105                	addi	sp,sp,32
  3e:	8082                	ret

Disassembly of section .text._GLOBAL__sub_I_uart:

00000000 <_GLOBAL__sub_I_uart>:
   0:	1141                	addi	sp,sp,-16
   2:	c606                	sw	ra,12(sp)
   4:	c422                	sw	s0,8(sp)
   6:	0800                	addi	s0,sp,16
   8:	67c1                	lui	a5,0x10
   a:	fff78593          	addi	a1,a5,-1 # ffff <.LASF46+0xfc24>
   e:	4505                	li	a0,1
  10:	00000097          	auipc	ra,0x0
			10: R_RISCV_CALL	_Z41__static_initialization_and_destruction_0ii
			10: R_RISCV_RELAX	*ABS*
  14:	000080e7          	jalr	ra # 10 <_GLOBAL__sub_I_uart+0x10>
  18:	40b2                	lw	ra,12(sp)
  1a:	4422                	lw	s0,8(sp)
  1c:	0141                	addi	sp,sp,16
  1e:	8082                	ret
